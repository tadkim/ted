<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>p5js test</title>
</head>
<body>
<h1>p5 js test</h1>
<script src="p5.js"></script>
<script>
    /*
    function setup(){
        createCanvas(640, 360);
        stroke(255);
        noFill();
    }
    function draw(){
        background(0);
        for(var i = 0; i < 200; i+=20){
            bezier(mouseX-(i/2.0), 40+i, 410, 20, 440, 300, 240-(i/16.0), 300+(i/8.0)); // bezier() is the same
        }
    }
    */



    var x = new Array(20);  // **change** float[] x = new float[20] to new Array(20)
    var y = new Array(20);  // **change** float[] y = new float[20] to new Array(20)
    var segLength = 18;                                 // **change** float to var

    function setup() {                          // **change** void setup() to function setup()
        createCanvas(640, 360);                   // **change** size() to createCanvas()
        strokeWeight(9);                          // strokeWeight() is the same
        stroke(255, 100);                         // stroke() is the same
    }

    function draw() {                           // **change** void draw() to function draw()
        background(0);                            // background() is the same
        drawSegment(0, mouseX, mouseY);           // functions calls, mouseX and mouseY are the same
        for(var i=0; i<x.length-1; i++) {         // **change** int i to var i
            drawSegment(i+1, x[i], y[i]);           // function calls are the same
        }
    }

    function drawSegment(i, xin, yin) {         // **change** void drawSegment() to function drawSegment(), remove type declarations
        var dx = xin - x[i];                      // **change** float to var
        var dy = yin - y[i];                      // **change** float to var
        var angle = atan2(dy, dx);                // **change** float to var, atan2() is the same
        x[i] = xin - cos(angle) * segLength;      // cos() is the same
        y[i] = yin - sin(angle) * segLength;      // sin() is the same
        segment(x[i], y[i], angle);               // function calls are the same
    }

    function segment(x, y, a) {                 // **change** void segment() to function segment(), remove type declarations
        push();                                   // pushMatrix() becomes push()
        translate(x, y);                          // translate() is the same
        rotate(a);                                // rotate() is the same
        line(0, 0, segLength, 0);                 // line() is the same
        pop();                                    // popMatrix() becomes pop()
    }



</script>
</body>
</html>